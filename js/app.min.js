(()=>{"use strict";const e="burger_open",t="burger-btn_open",n="body_fixed",c=document.querySelector("body"),o=document.querySelector(".js-burger"),l=document.querySelector(".js-burger-btn"),r=document.querySelector(".js-burger__content");function s(){o.classList.toggle(e),c.classList.toggle(n),l.classList.toggle(t)}l.addEventListener("click",s),o.addEventListener("click",(e=>{!e.composedPath().includes(r)&&s()}));const a=document.querySelectorAll('a[href^="#"]');for(let e of a)e.addEventListener("click",(function(t){t.preventDefault();const n=e.getAttribute("href");document.querySelector(n).scrollIntoView({behavior:"smooth",block:"start"})}));const i="gallery__slide_active",u=Array.from(document.querySelectorAll(".gallery__slide")),d=document.querySelector(".gallery__control-prev"),m=document.querySelector(".gallery__control-next");let g;function p(e){const t=g;g=e,u[t].classList.remove(i),u[g].classList.add(i)}g=0,d.addEventListener("click",(()=>{p(0===g?u.length-1:g-1)})),m.addEventListener("click",(()=>{p(g===u.length-1?0:g+1)}));const y="popup_open",b="body_fixed",k=document.querySelector("body"),L=document.querySelector(".js-popup"),_=document.querySelector(".js-btn"),h=document.querySelector(".js-popup__content"),v=document.querySelector(".js-popup__close-btn");function A(){L.classList.toggle(y),k.classList.toggle(b)}_.addEventListener("click",A),v.addEventListener("click",A),L.addEventListener("click",(e=>{!e.composedPath().includes(h)&&A()}));const x=document.getElementById("output-range"),f=document.getElementById("range"),E=document.getElementById("amount-square-meter"),q=document.getElementById("amount-project"),S=document.querySelectorAll(".additional-services__box"),I=()=>{x.textContent=f.value};I();const j=[{name:"умный дом",price:3e4,checkbox:null},{name:"технический надзор",price:2e4,checkbox:null},{name:"авторский надзор",price:25e3,checkbox:null},{name:"3D тур по визуализациям проекта",price:4e3,checkbox:null},{name:"дизайн-проект дополнительного помещения",price:"20000",checkbox:null},{name:"дизайн-проект лоджии",price:"10000",checkbox:null},{name:"дизайн-проект гардеробной комнаты",price:"10000",checkbox:null}],B=()=>{const e=j.reduce(((e,t)=>t.checkbox&&t.checkbox.querySelector("input").checked?e+parseInt(t.price):e),parseInt(E.textContent)*parseInt(f.value));q.textContent=function(e){return(e=(""+e).split(" ").join("")).split("").reverse().join("").match(/\d\d?\d?/g).map((function(e){return e.split("").reverse().join("")})).reverse().join(" ")}(e)};S.forEach((e=>{const t=e.dataset.name,n=j.find((e=>e.name===t));n&&(n.checkbox=e,e.addEventListener("change",B))})),f.addEventListener("input",(()=>{I(),B()})),document.getElementById("calcBtn").addEventListener("click",(e=>{const t=e.target.parentElement.querySelector(".calc-quantity");let n=+t.textContent;e.target.classList.contains("calc-plus")?n++:e.target.classList.contains("calc-minus")&&n>1&&n--,t.textContent=n})),document.getElementById("checkboxs-design").addEventListener("click",(e=>{e.target.classList.contains("calculator-design__text")&&e.target.classList.toggle("calculator-design__text--active")})),function(e){let t=new Image;t.onload=t.onerror=function(){!function(e){let t=!0===e?"webp":"no-webp";document.documentElement.classList.add(t)}(2==t.height)},t.src="data:image/webp;base64,UklGRjoAAABXRUJQVlA4IC4AAACyAgCdASoCAAIALmk0mk0iIiIiIgBoSygABc6WWgAA/veff/0PP8bA//LwYAAA"}()})();